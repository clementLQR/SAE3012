{% extends 'parent-footer.twig.html' %}
{% block title %}Profil{% endblock %}

{% block style %}
<style>
    /* -----------MOBILE------------ */
    h1 {
        font-size: 35px;
        margin-bottom: 10%;
    }

    section {
        background-color: rgb(110, 203, 243);
        color: #212529;
        padding: 7px;
        border-radius: 10px;
        margin-bottom: 5%;
    }

    h2 {
        font-size: 25px;
    }

    .pseudo {
        display: flex;
        justify-content: space-between;
    }

    #param {
        max-width: 32px;
        border-radius: 15px;
    }

    .msg {

        display: flex;
        flex-direction: column;
        background-color: rgba(211, 213, 213, 0.793);
        border-radius: 10px;
        padding: 0;
        margin-bottom: 10%;
        color: #212529;

    }

    .msg img {
        max-width: 100%;
        margin: 10px auto 15px auto;
        align-self: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);

    }

    .haut {
        display: flex;
        justify-content: space-between;
        margin-bottom: 4%;
        background-color: rgb(110, 203, 243);
        padding: 5px 10px;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        max-height: 20px;

    }

    .haut p {
        font-size: 13px;
    }

    .haut h2 {
        font-size: 17px
    }

    .texte {
        text-align: left;
        padding: 0 10px 10px 10px;
        margin: 0 0 2% 0;
        font-size: 16px;
    }

    .stats {
        text-align: center;
        margin-bottom: 5%;
    }

    form {
        align-self: center;
        font-size: 11px;
        margin-bottom: 3%;
    }

    button img {
        width: 20px;
    }

    .deco {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 35px;
        gap: 8px;
        padding: 0 20px 0 20px;
        background-color: rgba(250, 63, 21, 0.781);
        border: none;
        border-radius: 6px;
    }

    .deco:active {
        background-color: rgba(179, 49, 22, 0, 85);
        transition: transform 0.2s ease, background-color 0.2s ease;
    }


    /* ---------TABLETTE-------- */

    @media only screen and (min-width: 768px) {

        h1 {
            font-size: 40px;
        }

        h2 {
            font-size: 30px;
            margin-bottom: 5px;
        }

        #param {
            max-width: 37px;
            border-radius: 18px;
        }

        .msg-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            column-gap: 4%;
            width: 90%;
            margin: 0 auto 10%;
            align-items: start;
        }

        .msg {
            background-color: rgba(211, 213, 213, 0.793);
            border-radius: 10px;
            padding: 0;
            margin-bottom: 10%;

        }

        .msg img {
            max-width: 100%;
            margin: 10px auto 15px auto;
            align-self: center;
        }

        .haut {
            margin-bottom: 4%;
        }

        .haut p {
            font-size: 11px;
        }

        .haut h2 {
            font-size: 17px
        }

        .texte {
            font-size: 18px;
        }

        .stats {
            margin-bottom: 5%;
            font-size: 15px;
        }

        form {
            margin-bottom: 3%;
        }

        button img {
            width: 22px;
        }

        .deco {
            height: 40px;
            gap: 10px;
            padding: 0 25px 0 25px;
        }
    }

    /* ---------ORDINATEUR-------- */
    @media only screen and (min-width: 1024px) {

        h1 {
            font-size: 45px;
            margin-bottom: 3%;
        }

        h2 {
            font-size: 40px;
        }

        section {
            background-color: rgb(110, 203, 243);
            color: #212529;
            padding: 10px;
            border-radius: 10px;
        }

        #param {
            max-width: 37px;
            border-radius: 18px;
        }

        .msg-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            column-gap: 2%;
            row-gap: 30px;
            width: 100%;
            margin: 0 auto 8%;
            align-items: start;
        }

        .msg {
            margin-bottom: 0;
        }

        .msg img {
            max-width: 100%;
            margin: 10px auto 15px auto;
        }

        .haut {
            margin-bottom: 2%;
            padding: 8px 12px 15px 12px;
        }

        .haut p {
            font-size: 14px;
        }

        .haut h2 {
            font-size: 22px;
        }

        .texte {
            font-size: 18px;
        }

        .stats {
            margin-bottom: 4%;
            font-size: 16px;
        }

        button img {
            width: 20px;
        }

        .deco {
            height: 38px;
            gap: 8px;
            padding: 0 20px;
            transition: transform 0.2s ease, background-color 0.2s ease;
            cursor: pointer;
        }

        .deco:hover {
            transform: scale(1.05);
            background-color: rgba(179, 49, 22, 0.85);
        }

    }
</style>
{% endblock %}

{% block header %}
<h1>Profil</h1>
{% endblock %}


{% block contenu %}
<section>
    <div class="pseudo">
        <h2>@{{utilisateur.identifiant}}</h2>
        <a href="/SAE3012/parametre">
            <img id="param" src="images/parametres.png" alt="parametre">
        </a>
    </div>
    <p>{{utilisateur.biographie}}</p>
</section>

<div class="msg-container">
    {% for message in messages %}
    <div class="msg">
        <div class="haut">
            <h2>{{ message.categorieNom }}</h2>
            <p>{{ message.date }}</p>
        </div>
        {% if message.imageSrc %}
        <img src="{{ message.imageSrc }}" alt="Message Image de {{ message.auteur }}">
        {% endif %}
        <p class="texte">{{ message.texte }}</p>
        <p class="stats"><strong>{{ message.nbrLike }} Likes - {{ message.nbrDislike }} Dislikes - {{ message.nbrCom }}
                Commentaires</strong></p>
        <form action="/SAE3012/profil" method="post">
            <input type="hidden" name="messageId" value="{{ message.IdMsg }}">
            <button class="deco" type="submit"><img src="images/supprimer.png" alt="">Supprimer</button>
        </form>


    </div>
    {% endfor %}
</div>

{% endblock %}