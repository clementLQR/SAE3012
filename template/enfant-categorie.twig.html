{% extends 'parent-footer.twig.html' %}
{% block title %}Categorie{% endblock %}

{% block style %}
<style>
    header {
        background-color: rgb(110, 203, 243);
        color : #212529;
    }

    h1 {
        padding : 10px;
    }
</style>

{% endblock %} 

{% block header %}
 <h1>{{categorie.nom}}</h1>
{% endblock %} 


{% block contenu %}
<!-- <p>Liste des messages de la categorie {{categorie.nom}}</p> -->
{% for message in messages %}
    <div class="msg">
        <h2>{{ message.auteur }}</h2>
        <p>{{ message.date }}</p>
        {% if message.imageSrc %}
            <img src="{{ message.imageSrc }}" alt="Message Image de {{ message.auteur }}"> 
        {% endif %}
        <p>{{ message.texte }}</p>
        <div>
            <form action="/SAE3012/commentaires" method="post">
                <input type="hidden" name="messageId" value="{{ message.IdMsg }}">
                <button type="submit" class="commentBtn">commentaires <span>{{ message.nbrCom }}</span></button>
            </form>
            <form action="{{ categorie.nom }}" method="post">
                <input type="hidden" name="messageId" value="{{ message.IdMsg }}">
                <input type="hidden" name="like" value="1">
                <button type="submit" class="likeBtn">Like <span>{{ message.nbrLike }}</span></button>
            </form>
            <form action="{{ categorie.nom }}" method="post">
                    <input type="hidden" name="messageId" value="{{ message.IdMsg }}">
                    <input type="hidden" name="dislike" value="2">
                <button type="submit" class="dislikBtn">Dislike <span>{{ message.nbrDislike }}</span></button>
            </form>
        </div>
    </div>
{% endfor %}


{% endblock %}